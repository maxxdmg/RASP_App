(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(62),r=a.n(i),l=(a(72),a(11)),u=a(12),o=a(14),s=a(13),p=a(15),m=a(63),f=a(23),h=a(5),b=a(64),v=a.n(b),d=a(65),g=a.n(d),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={},a.handleSave=function(e){e.generateAsync({type:"blob"}).then(function(e){g.a.saveAs(e,"RASP_Output.zip")})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new v.a,a="";if(this.props.inputData.forEach(function(e){e.content?"IMG"===e.inputType?a+=e.inputId+":"+e.content.name:a+=e.inputId+":"+e.content+"\n":"CLR"===e.inputType?a+=e.inputId+":#ffffff\n":a+=e.inputId+":\n"}),t.file("output.RASP",a),this.props.imgData){var n=t.folder("images");this.props.imgData.forEach(function(e){e&&n.file(e.name,e,{base64:!0})})}return c.a.createElement("button",{disabled:!this.props.saveable,className:"saveButton",onClick:function(){return e.handleSave(t)}},"Save")}}]),t}(n.Component),N=function(e){var t="";return e.val&&(t=e.val),c.a.createElement("div",{className:"item-container"},c.a.createElement("label",{className:"item-label"},e.labelText),c.a.createElement("input",{onChange:e.changed,name:e.inputName,value:t,className:"item-input"}))},j=function(e){var t="#fffffff";return e.textVal&&(t=e.textVal),c.a.createElement("div",{className:"item-container"},c.a.createElement("label",{className:"item-label"},e.labelText),c.a.createElement("div",{className:"item-input-color-container"},c.a.createElement("input",{onChange:e.changed,name:e.inputName,type:"color",className:"item-input-color"}),c.a.createElement("h4",{className:"item-input-color-text"},t)))},O=function(e){return c.a.createElement("div",{className:"item-container"},c.a.createElement("label",{className:"item-label"},e.labelText),c.a.createElement("input",{type:"file",onChange:e.changed,name:e.inputName,className:"item-input"}))},y=a(66),I=a.n(y).a.create({baseURL:"https://raspdb.firebaseio.com/"}),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={saveable:!1,itemCount:0,inputs:[],values:[]},a.getDataFile=function(){I.get("/devtest.json").then(function(e){console.log(e.data);var t,n=a.loadFile(e.data);t=!!n.length,a.setState({saveable:t,inputs:n})}).catch(function(e){console.log(e)})},a.getStringInputs=function(e){var t=[],n=e.inputs.string_inputs;return Object.keys(n).forEach(function(e){var c=a.createInput(n[e],e,"STR");t=[].concat(Object(h.a)(t),[c])}),console.log(t),t},a.getColorInputs=function(e){var t=[],n=e.inputs.color_inputs;return Object.keys(n).forEach(function(e){var c=a.createInput(n[e],e,"CLR");t=[].concat(Object(h.a)(t),[c])}),console.log(t),t},a.getImageInputs=function(e){var t=[],n=e.inputs.image_inputs;return Object.keys(n).forEach(function(e){var c=a.createInput(n[e],e,"IMG");t=[].concat(Object(h.a)(t),[c])}),console.log(t),t},a.loadFile=function(e){var t=a.getStringInputs(e),n=a.getColorInputs(e),c=a.getImageInputs(e);return[].concat(Object(h.a)(t),Object(h.a)(n),Object(h.a)(c))},a.createInput=function(e,t,a){for(var n="",c=0,i=0;i<26;i++)c=Math.floor(26*Math.random())+97,n+=String.fromCharCode(c);return{labelText:e,inputId:t,inputName:n,inputType:a}},a.handleInputChange=function(e){var t;t=e.target.files?e.target.files[0]:e.target.value;var n=e.target.name;a.setState(Object(f.a)({},n,t))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(this.getDataFile(),this.props.data){var e,t=this.loadFile(this.props.data);e=!!t.length,this.setState({saveable:e,inputs:t})}}},{key:"render",value:function(){var e=this,t=[],a="",n={},i="";this.state.inputs.forEach(function(c){a=c.inputName,i=e.state[a],n=Object(m.a)({},c,{content:i}),t=[].concat(Object(h.a)(t),[n])});var r=this.state.inputs.map(function(t){switch(t.inputType){case"STR":var a=t.inputName;return c.a.createElement(N,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,val:e.state[a]});case"CLR":var n=t.inputName;return c.a.createElement(j,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,textVal:e.state[n]});case"IMG":return c.a.createElement(O,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange});default:return null}}),l=[];this.state.inputs.forEach(function(t){"IMG"===t.inputType&&(l=[].concat(Object(h.a)(l),[e.state[t.inputName]]))});var u=c.a.createElement("div",null);return this.state.inputs.length||(u=c.a.createElement("div",null,c.a.createElement("h4",null,"RASP_Data file is empty!"),c.a.createElement("p",null,"Find it in ./src/data/RASP_Data"))),console.log(t),c.a.createElement("div",null,u,r,c.a.createElement(E,{saveable:this.state.saveable,inputData:t,imgData:l}))}}]),t}(n.Component),T=(a(129),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(C,{className:"Generator"})}}]),t}(n.Component));r.a.render(c.a.createElement(T,null),document.getElementById("root"))},67:function(e,t,a){e.exports=a(130)},72:function(e,t,a){},77:function(e,t){},79:function(e,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.fc8ff8fe.chunk.js.map