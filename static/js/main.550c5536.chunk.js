(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(62),i=a.n(c),r=(a(73),a(11)),o=a(12),s=a(14),u=a(13),p=a(15),m=a(63),h=a(23),d=a(5),f=a(64),v=a.n(f),b=a(65),g=a.n(b),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a.handleSave=function(e){e.generateAsync({type:"blob"}).then(function(e){g.a.saveAs(e,"RASP_Output.zip")})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=new v.a,a="";if(a+=this.props.id+"\n",this.props.inputData.forEach(function(e){e.content?"IMG"===e.inputType?a+=e.inputId+":"+e.content.name:a+=e.inputId+":"+e.content+"\n":"CLR"===e.inputType?a+=e.inputId+":#ffffff\n":a+=e.inputId+":\n"}),t.file("output.RASP",a),this.props.imgData){var n=t.folder("images");this.props.imgData.forEach(function(e){e&&n.file(e.name,e,{base64:!0})})}return l.a.createElement("button",{disabled:!this.props.saveable,style:{width:"5vw",height:"3vw",borderRadius:"7.5%",marginLeft:"10vw"},className:"btn btn-outline-primary",onClick:function(){return e.handleSave(t)}},"Save")}}]),t}(n.Component),y=function(e){var t="";return e.val&&(t=e.val),l.a.createElement("div",{style:{border:"1px solid #0094FFFF",overflow:"hidden"},className:"w-25 row ml-3 mb-2 p-3"},l.a.createElement("label",{style:{fontSize:"20px"},className:"col-12"},e.labelText),l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{onChange:e.changed,name:e.inputName,value:t,className:"form-control"})))},N=function(e){var t="#fffffff";return e.textVal&&(t=e.textVal),l.a.createElement("div",{style:{border:"1px solid #0094FFFF",overflow:"hidden"},className:"w-25 row ml-3 mb-2 p-3"},l.a.createElement("label",{style:{fontSize:"20px"},className:"col-12"},e.labelText),l.a.createElement("input",{style:{width:"2vw",height:"2vw",border:"none"},onChange:e.changed,name:e.inputName,type:"color",className:"ml-3 p-0 col-3"}),l.a.createElement("h4",{style:{width:"1vw",fontWeight:"bold"},className:"m-0 pl-2 col-4"},t))},w=function(e){return l.a.createElement("div",{style:{border:"1px solid #0094FFFF",overflow:"hidden"},className:"w-25 row ml-3 mb-2 p-3"},l.a.createElement("label",{style:{fontSize:"20px"},className:"col-12"},e.labelText),l.a.createElement("input",{type:"file",onChange:e.changed,name:e.inputName,className:"col-12"}))},O=a(66),j=a.n(O).a.create({baseURL:"https://raspio.herokuapp.com"}),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={id:"",saveable:!1,itemCount:0,inputs:[],values:[]},a.getDataFile=function(){j.get("/devtest").then(function(e){console.log("= RES DATA =");var t,n=Object.keys(e.data)[0],l=a.loadFile(e.data);t=!!l.length,a.setState({id:n,saveable:t,inputs:l})}).catch(function(e){console.log(e)})},a.getStringInputs=function(e){var t=[],n=e.devtest.string_inputs;return Object.keys(n).forEach(function(e){var l=a.createInput(n[e],e,"STR");t=[].concat(Object(d.a)(t),[l])}),console.log(t),t},a.getColorInputs=function(e){var t=[],n=e.devtest.color_inputs;return Object.keys(n).forEach(function(e){var l=a.createInput(n[e],e,"CLR");t=[].concat(Object(d.a)(t),[l])}),console.log(t),t},a.getImageInputs=function(e){var t=[],n=e.devtest.image_inputs;return Object.keys(n).forEach(function(e){var l=a.createInput(n[e],e,"IMG");t=[].concat(Object(d.a)(t),[l])}),console.log(t),t},a.loadFile=function(e){var t=a.getStringInputs(e),n=a.getColorInputs(e),l=a.getImageInputs(e);return[].concat(Object(d.a)(t),Object(d.a)(n),Object(d.a)(l))},a.createInput=function(e,t,a){for(var n="",l=0,c=0;c<26;c++)l=Math.floor(26*Math.random())+97,n+=String.fromCharCode(l);return{labelText:e,inputId:t,inputName:n,inputType:a}},a.handleInputChange=function(e){var t;t=e.target.files?e.target.files[0]:e.target.value;var n=e.target.name;a.setState(Object(h.a)({},n,t))},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.getDataFile(),this.props.data){var e,t=this.loadFile(this.props.data);e=!!t.length,this.setState({saveable:e,inputs:t})}}},{key:"render",value:function(){var e=this,t=[],a="",n={},c="";this.state.inputs.forEach(function(l){a=l.inputName,c=e.state[a],n=Object(m.a)({},l,{content:c}),t=[].concat(Object(d.a)(t),[n])});var i=this.state.inputs.map(function(t){switch(t.inputType){case"STR":var a=t.inputName;return l.a.createElement(y,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,val:e.state[a]});case"CLR":var n=t.inputName;return l.a.createElement(N,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,textVal:e.state[n]});case"IMG":return l.a.createElement(w,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange});default:return null}}),r=[];this.state.inputs.forEach(function(t){"IMG"===t.inputType&&(r=[].concat(Object(d.a)(r),[e.state[t.inputName]]))});var o=l.a.createElement("div",null);this.state.inputs.length||(o=l.a.createElement("div",null,l.a.createElement("h4",null,"RASP_Data file is empty!"),l.a.createElement("p",null,"Find it in ./src/data/RASP_Data")));var s=l.a.createElement("div",null);return this.state.id&&(s=l.a.createElement("h3",{className:"pl-3 pt-3 pb-1"},"template: ",this.state.id)),l.a.createElement("div",null,o,s,i,l.a.createElement(E,{id:this.state.id,saveable:this.state.saveable,inputData:t,imgData:r}))}}]),t}(n.Component),x=a(67),F=a.n(x),S=function(e){return l.a.createElement("div",{className:"container-fluid",style:{height:"5em",backgroundImage:"url(".concat(F.a,")"),boxShadow:"0px 0px 1px 1px #0094FFFF"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-5"}),l.a.createElement("h1",null,"RASP")))},C=(a(130),function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(S,null),l.a.createElement(I,null))}}]),t}(n.Component));i.a.render(l.a.createElement(C,null),document.getElementById("root"))},67:function(e,t,a){e.exports=a.p+"static/media/bg.83987975.png"},68:function(e,t,a){e.exports=a(131)},73:function(e,t,a){},78:function(e,t){},80:function(e,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.550c5536.chunk.js.map