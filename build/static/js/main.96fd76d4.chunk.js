(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(62),r=a.n(c),l=(a(72),a(11)),u=a(12),o=a(14),s=a(13),p=a(15),m=a(63),f=a(23),h=a(5),d=a(64),v=a.n(d),b=a(65),g=a.n(b),E=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={},a.handleSave=function(e){e.generateAsync({type:"blob"}).then(function(e){g.a.saveAs(e,"RASP_Output.zip")})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=new v.a,a="";if(a+=this.props.id+"\n",this.props.inputData.forEach(function(e){e.content?"IMG"===e.inputType?a+=e.inputId+":"+e.content.name:a+=e.inputId+":"+e.content+"\n":"CLR"===e.inputType?a+=e.inputId+":#ffffff\n":a+=e.inputId+":\n"}),t.file("output.RASP",a),this.props.imgData){var n=t.folder("images");this.props.imgData.forEach(function(e){e&&n.file(e.name,e,{base64:!0})})}return i.a.createElement("button",{disabled:!this.props.saveable,className:"saveButton",onClick:function(){return e.handleSave(t)}},"Save")}}]),t}(n.Component),N=function(e){var t="";return e.val&&(t=e.val),i.a.createElement("div",{className:"item-container"},i.a.createElement("label",{className:"item-label"},e.labelText),i.a.createElement("input",{onChange:e.changed,name:e.inputName,value:t,className:"item-input"}))},O=function(e){var t="#fffffff";return e.textVal&&(t=e.textVal),i.a.createElement("div",{className:"item-container"},i.a.createElement("label",{className:"item-label"},e.labelText),i.a.createElement("div",{className:"item-input-color-container"},i.a.createElement("input",{onChange:e.changed,name:e.inputName,type:"color",className:"item-input-color"}),i.a.createElement("h4",{className:"item-input-color-text"},t)))},j=function(e){return i.a.createElement("div",{className:"item-container"},i.a.createElement("label",{className:"item-label"},e.labelText),i.a.createElement("input",{type:"file",onChange:e.changed,name:e.inputName,className:"item-input"}))},y=a(66),I=a.n(y).a.create({baseURL:"https://raspio.herokuapp.com"}),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(i)))).state={id:"",saveable:!1,itemCount:0,inputs:[],values:[]},a.getDataFile=function(){I.get("/devtest").then(function(e){console.log("= RES DATA =");var t,n=Object.keys(e.data)[0],i=a.loadFile(e.data);t=!!i.length,a.setState({id:n,saveable:t,inputs:i})}).catch(function(e){console.log(e)})},a.getStringInputs=function(e){var t=[],n=e.devtest.string_inputs;return Object.keys(n).forEach(function(e){var i=a.createInput(n[e],e,"STR");t=[].concat(Object(h.a)(t),[i])}),console.log(t),t},a.getColorInputs=function(e){var t=[],n=e.devtest.color_inputs;return Object.keys(n).forEach(function(e){var i=a.createInput(n[e],e,"CLR");t=[].concat(Object(h.a)(t),[i])}),console.log(t),t},a.getImageInputs=function(e){var t=[],n=e.devtest.image_inputs;return Object.keys(n).forEach(function(e){var i=a.createInput(n[e],e,"IMG");t=[].concat(Object(h.a)(t),[i])}),console.log(t),t},a.loadFile=function(e){var t=a.getStringInputs(e),n=a.getColorInputs(e),i=a.getImageInputs(e);return[].concat(Object(h.a)(t),Object(h.a)(n),Object(h.a)(i))},a.createInput=function(e,t,a){for(var n="",i=0,c=0;c<26;c++)i=Math.floor(26*Math.random())+97,n+=String.fromCharCode(i);return{labelText:e,inputId:t,inputName:n,inputType:a}},a.handleInputChange=function(e){var t;t=e.target.files?e.target.files[0]:e.target.value;var n=e.target.name;a.setState(Object(f.a)({},n,t))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(this.getDataFile(),this.props.data){var e,t=this.loadFile(this.props.data);e=!!t.length,this.setState({saveable:e,inputs:t})}}},{key:"render",value:function(){var e=this,t=[],a="",n={},c="";this.state.inputs.forEach(function(i){a=i.inputName,c=e.state[a],n=Object(m.a)({},i,{content:c}),t=[].concat(Object(h.a)(t),[n])});var r=this.state.inputs.map(function(t){switch(t.inputType){case"STR":var a=t.inputName;return i.a.createElement(N,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,val:e.state[a]});case"CLR":var n=t.inputName;return i.a.createElement(O,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange,textVal:e.state[n]});case"IMG":return i.a.createElement(j,{labelText:t.labelText,inputName:t.inputName,key:t.inputName,changed:e.handleInputChange});default:return null}}),l=[];this.state.inputs.forEach(function(t){"IMG"===t.inputType&&(l=[].concat(Object(h.a)(l),[e.state[t.inputName]]))});var u=i.a.createElement("div",null);this.state.inputs.length||(u=i.a.createElement("div",null,i.a.createElement("h4",null,"RASP_Data file is empty!"),i.a.createElement("p",null,"Find it in ./src/data/RASP_Data")));var o=i.a.createElement("div",null);return this.state.id&&(o=i.a.createElement("h3",null,this.state.id)),i.a.createElement("div",null,u,o,r,i.a.createElement(E,{id:this.state.id,saveable:this.state.saveable,inputData:t,imgData:l}))}}]),t}(n.Component),T=(a(129),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(C,{className:"Generator"})}}]),t}(n.Component));r.a.render(i.a.createElement(T,null),document.getElementById("root"))},67:function(e,t,a){e.exports=a(130)},72:function(e,t,a){},77:function(e,t){},79:function(e,t){}},[[67,1,2]]]);
//# sourceMappingURL=main.96fd76d4.chunk.js.map