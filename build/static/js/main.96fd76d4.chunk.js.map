{"version":3,"sources":["components/Save/Save.js","components/StringInput/StringInput.js","components/ColorInput/ColorInput.js","components/ImageInput/ImageInput.js","axios-template.js","containers/Generator/Generator.js","App.js","index.js"],"names":["Save","state","handleSave","zip","generateAsync","type","then","content","FileSaver","saveAs","_this2","this","JSZip","outputContent","props","id","inputData","forEach","data","inputType","inputId","name","file","imgData","img","folder","val","base64","react_default","a","createElement","disabled","saveable","className","onClick","Component","StringInput","labelText","onChange","changed","inputName","value","ColorInput","text","textVal","ImageInput","instance","axios","create","baseURL","Generator","itemCount","inputs","values","getDataFile","get","res","console","log","Object","keys","_this","loadFile","length","setState","catch","err","getStringInputs","newInputs","strInputsObj","devtest","string_inputs","key","newInput","createInput","concat","toConsumableArray","getColorInputs","clrInputsObj","color_inputs","getImageInputs","imgInputsObj","image_inputs","newStringInputs","newColorInputs","newImageInputs","input_id","newRandomNumeric","i","Math","floor","random","String","fromCharCode","handleInputChange","e","target","files","defineProperty","currInputName","newInputData","newInputContent","inp","objectSpread","map","strname","components_StringInput_StringInput","clrname","components_ColorInput_ColorInput","components_ImageInput_ImageInput","error","components_Save_Save","App","containers_Generator_Generator","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.96fd76d4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport JSZip from \"jszip\";\r\nimport FileSaver from \"file-saver\";\r\n\r\nclass Save extends Component {\r\n  state = {};\r\n\r\n  handleSave = zip => {\r\n    zip.generateAsync({ type: \"blob\" }).then(content => {\r\n      FileSaver.saveAs(content, \"RASP_Output.zip\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let zip = new JSZip();\r\n    let outputContent = \"\";\r\n\r\n    outputContent += this.props.id + '\\n';\r\n\r\n    this.props.inputData.forEach(data => {\r\n        if (!data.content) {\r\n          if (data.inputType === \"CLR\")\r\n            outputContent += data.inputId + \":#ffffff\\n\";\r\n          else outputContent += data.inputId + \":\\n\";\r\n        } else if (data.inputType === \"IMG\")  outputContent += data.inputId + \":\" + data.content.name;\r\n        else outputContent += data.inputId + \":\" + data.content + \"\\n\";\r\n    });\r\n\r\n    zip.file(\"output.RASP\", outputContent);\r\n\r\n    if (this.props.imgData) {\r\n      let img = zip.folder(\"images\");\r\n      this.props.imgData.forEach(val => {\r\n        if (val) img.file(val.name, val, { base64: true });\r\n      });\r\n    }\r\n\r\n    return (\r\n      <button\r\n        disabled={!this.props.saveable}\r\n        className=\"saveButton\"\r\n        onClick={() => this.handleSave(zip)}\r\n      >\r\n        Save\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Save;\r\n","import React from \"react\";\r\n\r\nconst StringInput = props => {\r\n  let val = \"\";\r\n  if (props.val) val = props.val;\r\n\r\n  return (\r\n    <div className=\"item-container\">\r\n      <label className=\"item-label\">{props.labelText}</label>\r\n      <input\r\n        onChange={props.changed}\r\n        name={props.inputName}\r\n        value={val}\r\n        className=\"item-input\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StringInput;\r\n","import React from \"react\";\r\n\r\nconst ColorInput = props => {\r\n  let text = \"#fffffff\";\r\n  if (props.textVal) text = props.textVal;\r\n\r\n  return (\r\n    <div className=\"item-container\">\r\n      <label className=\"item-label\">{props.labelText}</label>\r\n      <div className=\"item-input-color-container\">\r\n        <input\r\n          onChange={props.changed}\r\n          name={props.inputName}\r\n          type=\"color\"\r\n          className=\"item-input-color\"\r\n        />\r\n        <h4 className=\"item-input-color-text\">{text}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ColorInput;\r\n","import React from \"react\";\r\n\r\nconst ImageInput = props => {\r\n  return (\r\n    <div className=\"item-container\">\r\n      <label className=\"item-label\">{props.labelText}</label>\r\n      <input\r\n        type=\"file\"\r\n        onChange={props.changed}\r\n        name={props.inputName}\r\n        className=\"item-input\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageInput;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://raspio.herokuapp.com'\r\n});\r\n\r\nexport default instance;","import React, { Component } from \"react\";\r\n\r\nimport Save from \"../../components/Save/Save.js\";\r\nimport StringInput from \"../../components/StringInput/StringInput.js\";\r\nimport ColorInput from \"../../components/ColorInput/ColorInput.js\";\r\nimport ImageInput from \"../../components/ImageInput/ImageInput.js\";\r\nimport instance from '../../axios-template.js';\r\n\r\nclass Generator extends Component {\r\n  state = {\r\n    id: '',\r\n    saveable: false,\r\n    itemCount: 0,\r\n    inputs: [],\r\n    values: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getDataFile();\r\n\r\n    if(this.props.data){\r\n       const inputs = this.loadFile(this.props.data);\r\n      let saveable;\r\n\r\n      inputs.length ? (saveable = true) : (saveable = false);\r\n\r\n      this.setState({\r\n        saveable,\r\n        inputs\r\n      });\r\n    }\r\n  }\r\n\r\n  getDataFile = () => {\r\n    instance.get('/devtest')\r\n    .then(res => {\r\n      console.log(\"= RES DATA =\")\r\n      let id = Object.keys(res.data)[0];\r\n      let inputs = this.loadFile(res.data);\r\n      let saveable;\r\n      inputs.length ? (saveable = true) : (saveable = false);\r\n      this.setState({\r\n        id,\r\n        saveable,\r\n        inputs\r\n      });\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  getStringInputs = file => {\r\n    let newInputs = [];\r\n    let strInputsObj = file.devtest.string_inputs;\r\n    Object.keys(strInputsObj).forEach(key => {\r\n      let newInput = this.createInput(strInputsObj[key], key, \"STR\");\r\n      newInputs = [...newInputs, newInput];\r\n    });\r\n    console.log(newInputs);\r\n    return newInputs;\r\n  };\r\n\r\n  getColorInputs = file => {\r\n    let newInputs = [];\r\n    let clrInputsObj = file.devtest.color_inputs;\r\n    Object.keys(clrInputsObj).forEach(key => {\r\n      let newInput = this.createInput(clrInputsObj[key], key, \"CLR\");\r\n      newInputs = [...newInputs, newInput];\r\n    });\r\n    console.log(newInputs);\r\n    return newInputs;\r\n  };\r\n\r\n  getImageInputs = file => {\r\n    let newInputs = [];\r\n    let imgInputsObj = file.devtest.image_inputs;\r\n    Object.keys(imgInputsObj).forEach(key => {\r\n      let newInput = this.createInput(imgInputsObj[key], key, \"IMG\");\r\n      newInputs = [...newInputs, newInput];\r\n    });\r\n    console.log(newInputs);\r\n    return newInputs;\r\n  };\r\n\r\n  loadFile = file => {\r\n    let inputs = [];\r\n    let newStringInputs = this.getStringInputs(file);\r\n    let newColorInputs = this.getColorInputs(file);\r\n    let newImageInputs = this.getImageInputs(file);\r\n\r\n    inputs = [...newStringInputs, ...newColorInputs, ...newImageInputs];\r\n\r\n    return inputs;\r\n  };\r\n\r\n  createInput = (labelText, input_id, inputType) => {\r\n    let inputName = \"\";\r\n    let newRandomNumeric = 0;\r\n    let newRandomChar = \"\";\r\n\r\n    for (let i = 0; i < 26; i++) {\r\n      newRandomNumeric = Math.floor(Math.random() * 26) + 97;\r\n      newRandomChar = String.fromCharCode(newRandomNumeric);\r\n      inputName += newRandomChar;\r\n    }\r\n\r\n    let newInput = {\r\n      labelText: labelText,\r\n      inputId: input_id,\r\n      inputName: inputName,\r\n      inputType: inputType\r\n    };\r\n\r\n    return newInput;\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    let value;\r\n    if (e.target.files) value = e.target.files[0];\r\n    else value = e.target.value;\r\n    const name = e.target.name;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let inputData = [];\r\n    let currInputName = \"\";\r\n    let newInputData = {};\r\n    let newInputContent = \"\";\r\n\r\n    this.state.inputs.forEach(inp => {\r\n      currInputName = inp.inputName;\r\n      newInputContent = this.state[currInputName];\r\n      newInputData = { ...inp, content: newInputContent };\r\n      inputData = [...inputData, newInputData];\r\n    });\r\n\r\n    const inputs = this.state.inputs.map(inp => {\r\n      switch (inp.inputType) {\r\n        case \"STR\":\r\n          let strname = inp.inputName;\r\n          return (\r\n            <StringInput\r\n              labelText={inp.labelText}\r\n              inputName={inp.inputName}\r\n              key={inp.inputName}\r\n              changed={this.handleInputChange}\r\n              val={this.state[strname]}\r\n            />\r\n          );\r\n        case \"CLR\":\r\n          // Need to define name here so the hex text next to the color input\r\n          // will change to the color picked.\r\n          let clrname = inp.inputName;\r\n          return (\r\n            <ColorInput\r\n              labelText={inp.labelText}\r\n              inputName={inp.inputName}\r\n              key={inp.inputName}\r\n              changed={this.handleInputChange}\r\n              textVal={this.state[clrname]}\r\n            />\r\n          );\r\n        case \"IMG\":\r\n          return (\r\n            <ImageInput\r\n              labelText={inp.labelText}\r\n              inputName={inp.inputName}\r\n              key={inp.inputName}\r\n              changed={this.handleInputChange}\r\n            />\r\n          );\r\n        default:\r\n          return null;\r\n      }\r\n    });\r\n\r\n    let imgData = [];\r\n    this.state.inputs.forEach(inp => {\r\n      if (inp.inputType === \"IMG\")\r\n        \timgData = [...imgData, this.state[inp.inputName]];\r\n    });\r\n\r\n    let error = <div />;\r\n    if (!this.state.inputs.length) {\r\n      error = (\r\n        <div>\r\n          <h4>RASP_Data file is empty!</h4>\r\n          <p>Find it in ./src/data/RASP_Data</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    let id = <div />;\r\n    if (this.state.id)\r\n      id = <h3>{this.state.id}</h3>;\r\n\r\n    return (\r\n      <div>\r\n        {error}\r\n        {id}\r\n        {inputs}\r\n        <Save\r\n          id={this.state.id}\r\n          saveable={this.state.saveable}\r\n          inputData={inputData}\r\n          imgData={imgData}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Generator;\r\n","import React, { Component } from \"react\";\nimport Generator from \"./containers/Generator/Generator.js\";\nimport \"./App.css\";\n\nclass App extends Component {\n\trender() {\n\t\treturn <Generator className=\"Generator\" />;\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}